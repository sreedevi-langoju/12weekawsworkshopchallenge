# AWS Identity and Access Management (IAM) -Users, User Groups, Roles, Policies:

 
Creating IAM users, groups, roles, and policies involves using the AWS Management Console, AWS CLI (Command Line Interface), or AWS SDKs (Software Development Kits). AWS Identity and Access Management (IAM) Immersion Day- How to create the IAM entities using the AWS Management Console:

### Creating an IAM User:

Now, we're going to create an Administrator user. When we create an IAM user, we create a password for that user and attach permissions to the IAM user that give them administrator privileges.

You can create up to 5000 IAM Users in a single AWS account. You may need to create an IAM User when you onboard someone who needs access to AWS, or when launching a new workload that needs to make API calls to AWS.

#### Creating an IAM User through the Console:

* Sign in to the AWS Management Console and open the IAM console.  In the left side navigation pane, choose Users and then choose Add users.
* Type the user name as demouser for the new user, this is the sign-in name for AWS.

* Now we'll need to select the type of access this set of users will have. Be sure to review use cases for the different types of access below:
Programmatic Access used to be an option here but that has since been removed. This type of access is now provided after user creation
Select AWS Management Console Access if the users require access to the AWS Management Console. This creates a password for each new user. When choosing Console Access you can also choose between the following password settings.

      * Autogenerated password. Each user gets a randomly generated password that meets the account password policy.  You can view or download the passwords when you get to the Final page. You can also force users to set a new password upon initial login by checking the Require password reset box.

      * Custom password. Each user is assigned the password that you type in the box.

* Normally, we recommend that you select Require password reset for production accounts to ensure that users are forced to change their password the first time they sign in.
  
* For this example, let's select

  Provide user access to the AWS Management Console
  I want to create an IAM user
  Autogenerated Password
  uncheck Users must create a new password at next sign-in

* Once we're on the Set permissions page, we'll need to specify how we want to assign permissions to this set of new users. We'll need to choose one of the following three options:
  
  a) Add user to group. Choose this option if you want to assign the users to one or more groups that already have permissions policies.

  b) Copy permissions from existing user. Choose this option to copy all of the group memberships, attached managed policies, embedded inline policies, and any   existing permissions boundaries from an existing user to the new users.

  c) Attach existing policies directly. Choose this option to see a list of the AWS managed and customer managed policies in your account. Select the policies that you want to attach to the new users or choose Create policy to open a new browser tab and create a new policy from scratch.

* Because we're creating a new Administrator user, we'll choose the Attach Existing Policies option. Pick the AdministratorAccess policy and attach it to your user to grant the relevant permissions. Choose Next: Tags.

*[Optional] You can add metadata to the user by attaching tags as key-value pairs. Add a key-value pair if desired.

* Here you can see all of the choices you made up to this point.

Take note of the new credentials and the sign-in link. When you are ready to proceed, choose Create.

* Take note of your sign in details including your sign-in URL and .csv file.
The URL is a quick sign on page that auto-fills your information
The .csv file keeps track of the users password. If it was auto-generated, please make sure you download it or you will have to recreate your user. 

* IAM Users are identified in the following ways:

  a)A "friendly name" for the user, which is the name that you specified when you created the user, such as Richard or Anaya. These are the names you see in the AWS Management Console.

  b)An Amazon Resource Name (ARN) for the user. You use the ARN when you need to uniquely identify the user across all of AWS. For example, you could use an ARN to specify the user as a Principal in an IAM policy for an Amazon S3 bucket. An ARN for an IAM user might look like the following:

  arn:aws:iam::123456789012:user/Administrator
  
* A unique identifier for the user. This ID is returned only when you use the API, Tools for Windows PowerShell, or AWS CLI to create the user; you do not see this ID in the console.

* You can find the ARN for a user by navigating to the IAM console, choosing Users from the left side panel, then selecting the User you want more detail on.
* Navigate to the sign-in page . Sign in with the new user you just created. You should be able to sign and test the permissions of the new IAM User you created!


### Creating a User Group:

To set up a user group, you need to create the group, add users to the group, then give the group permissions based on the type of work that you expect the users in the group to do. In this lab, we'll be:

1.Creating a new user called PowerUser
2.Creating a new user group called Developers
3.Adding PowerUser user to the Developers group. This will grant them permissions to manage our EC2 Server resources for the business.

Creating an IAM User

Create a new user with the name PowerUser and skip the step of adding any permissions. By not attaching any policies to the user upon creation, you will essentially create a user with no permissions at all. Alternatively, you can remove any policies from an existing user to acheive the same goal.

If you're unsure of how to create a user, please refer to the Creating an IAM User lab.

<b>Creating an IAM User Group through the Console</b>

To create an IAM user group and attach policies through the group (console)

* Sign in to the AWS Management Console and open the IAM console ]

* In the navigation pane, choose User groups and then choose Create group.

* For User group name, type the name of the group as Developers. In the list of users, select the check box for each user that you want to add to the group. If you created the user previously, you can choose PowerUser.
  
* In the list of policies, select the check box for each policy that you want to apply to all members of the group. We need to give our Developers EC2 access, so we'll choose the AWS Managed Policy "AmazonEC2FullAccess". Type AmazonEC2FullAccess in the search bar and select the appropriate policy.


* Choose Create group.


Note: You can have up to 300 IAM groups per account

Congratulations! You've created a group and attached permissions. Our permissions will now be standardized among all our developers.

### Creating an IAM Role:

Roles and users are both AWS identities with permissions policies that determine what the identity can and cannot do in AWS. However, instead of being uniquely associated with one person, a role is intended to be assumable by anyone who needs it. Also, a role does not have standard long-term credentials such as a password or access keys associated with it. Instead, when you assume a role, it provides you with temporary security credentials for your role session.

In this exercise, we're going to create a role for an EC2 instance and grant it trusted access to all S3 buckets in our account.

#### Create a Role:

* From the Console Home Screen ,type “IAM“ into the services search bar on top of the screen and choose the IAM service.

* From here Select Roles, either on the tab on the left or the middle of the screen.

* On the next page select Create role

* From here we will select the service entity EC2 and press Next: Permissions

 <img src="https://github.com/sreedevi-langoju/12weekawsworkshopchallenge/assets/135724041/3a4c6baf-c6f1-4c89-ac0a-5a64dfac1945"  height=400 width=600> 

* On the next page we will add a policy to give access to any s3 storage buckets in your account. This can be achieved by filtering the search for and selecting AmazonS3FullAccess as seen below. We'll go into how policies grant permissions a little later on.

* Continue on to review and name your role EC2S3FullAccess and press Create role

<img src="https://github.com/sreedevi-langoju/12weekawsworkshopchallenge/assets/135724041/6c394c50-0687-465d-a6f1-4404f2947c5b"  height=400 width=600>

* You will now be redirected to the roles section of the IAM console. You can then use the search bar to verify your IAM Role was created. Click on your role to review.
  
<img src="https://github.com/sreedevi-langoju/12weekawsworkshopchallenge/assets/135724041/a0886a85-9fc8-4cf3-8e49-3b384d669014"  height=400 width=700>

<img src="https://github.com/sreedevi-langoju/12weekawsworkshopchallenge/assets/135724041/1d4ca983-0621-4d22-a71e-7ca6b7d044f4" height=400 width=600>

Congratulations! You have successfully created your first IAM Role!


